I"v	(function() {
  var show_result;

  window.snack = function(message, time) {
    var x;
    $("#buttonAdd").html("");
    x = $("#snackbar");
    x.html(message);
    x.addClass("show");
    setTimeout(function() {
      return x.removeClass("show");
    }, time);
    return console.log("Working");
  };

  window.loading = false;

  $(document).on("page:load page:fetch ready", function() {
    console.log("It works on each visit!");
    $(".close-parent").on("click", function(ev) {
      return $(this).parent().slideUp();
    });

    /*
    	$("#notification").on "click", (ev)->
    		#Si las notificaiones son visibles, preventDefault()
    		ev.preventDefault() if $("#notifications").hasClass("active")
    
    		#Agregamos o removemos la clase
    		$("#notifications").toggleClass("active")
    
    		#Si tiene la clase active, es porque antes no la tenia
    		#Si no la tiene, es porque antes si la tenia
    		return $("#notifications").hasClass("active")
     */
    $(".best_in_place").best_in_place();
    return $(window).scroll(function() {
      var url;
      if (!window.loading && $(window).scrollTop() > $(document).height() - 850) {
        console.log("entro");
        window.loading = true;
        url = $(".next_page").attr("href");
        if (url) {
          return $.getScript(url);
        }
      }
    });
  });


  /*
  jQuery ->
  	$('#search').autocomplete
  		source: "/search_suggestions"
   */

  window.App || (window.App = {});

  App.search = function() {
    return $("#search").keyup(function() {
      var term;
      term = $(this).val();
      if (term.length === 0) {
        $("#result").html('');
        return;
      }
      console.log("se ejecuta");
      return $.ajax({
        method: "POST",
        url: "search/search_suggestions",
        data: {
          term: term
        },
        dataType: 'json',
        success: function(data) {
          return show_result(data);
        },
        error: function(data) {
          return alert('Ocurrio un error');
        }
      });
    });
  };

  show_result = function(data) {
    var html, i, j, ref;
    html = '';
    for (i = j = 0, ref = data.length; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
      html += '<a href="users/' + data[i].id + '" class="list-group-item list-group-item-action">' + data[i].name + '</a>';
    }
    return $("#result").html(html);
  };

}).call(this);
:ET