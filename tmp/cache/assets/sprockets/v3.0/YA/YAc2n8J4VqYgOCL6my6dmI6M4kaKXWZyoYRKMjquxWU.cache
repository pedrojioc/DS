I"­(function() {
  window.snack = function(options) {
    console.log("Working");
    return document.querySelector("#global-snackbar").MaterialSnackbar.showSnackbar(options);
  };

  window.loading = false;

  $(document).on("page:load page:fetch ready", function() {
    console.log("It works on each visit!");
    $(".best_in_place").best_in_place();
    return $(".mdl-layout").scroll(function() {
      var urls;
      if (!window.loading && $(".mdl-layout").scrollTop() > $(document).height() - 100) {
        window.loading = true;
        urls = $(".next_page").attr("href");
        if (urls) {
          return $.getScript(urls);
        }
      }
    });
  });

}).call(this);
:ET